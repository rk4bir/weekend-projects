<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/petite-vue"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.0/css/all.min.css" integrity="sha512-3PN6gfRNZEX4YFyz+sIyTF6pGlQiryJu9NlGhu9LrLMQ7eDjNgudQoFDK3WSNAayeIKc6B8WXXpo4a7HqxjKwg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
      .form-group span {
        font-size: 0.8rem !important;
        letter-spacing: 0rem !important;
        word-spacing: 0rem !important;
      }
      label {
        margin-bottom: 5px;
        font-weight: 400;
      }
      input {
        border: 1px solid grey;
        box-shadow: none !important;
      }
      input.error {
        border: 1px solid rgb(208, 14, 14) !important;
      }
      input.success {
        border: 1px solid rgb(0, 185, 25) !important;
      }
    </style>
    <title>Progress Registration Form</title>
  </head>
  <body style="background: rgb(251, 254, 251)">
    <div id="app">
      <div class="container">
        <div class="row">
          <div class="col-md-6 offset-md-3 col-12">
            <!--progress bar-->
            <div class="mt-5 mb-3">
              <div class="text-center">
                <h2>
                  <span class="text-danger">`petite-vue`</span> form validation demo
                </h2>
              </div>
              <!--tiny progressbar-->
              <div class="progress mb-2" style="height: 1px;">
                <div
                    class="progress-bar bg-success"
                    role="progressbar"
                    aria-label="tiny progress"
                    :style="'width: ' + progressPercentage + '%'"
                    :aria-valuenow="progressPercentage"
                    aria-valuemin="0"
                    aria-valuemax="100"
                ></div>
              </div>
              <!--big progressbar-->
              <div class="progress" style="height: 15px;">
                <div
                  class="progress-bar bg-success"
                  role="progressbar"
                  aria-label="large progress"
                  :style="'width: ' + progressPercentage + '%'"
                  :aria-valuenow="progressPercentage"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >${progressPercentage}%</div>
              </div>
            </div><!--progress bars-->

            <!--form-->
            <form method="POST" @submit.prevent="submitForm" action="javascript: void(0)">
              <div
                  v-if="formMessage"
                  class="alert alert-success pt-1 pb-1"
                  style="margin-bottom: 10px"
              ><span style="font-size: 0.9rem" v-html="formMessage"></span></div>
              <div class="row m-0 mb-3">
                  <!--firstname field-->
                  <div class="form-group mb-0 p-0 col-6">
                    <label>First name</label>  
                    <input 
                      :class="firstNameError === '' ? 'form-control success' : 'form-control error'" 
                      v-model="first_name" 
                      type="text"
                    >
                    <span class="text-danger">${firstNameError}</span>
                  </div>
                  <div class="mb-0 p-0 col-auto">&nbsp;</div>
                  <!--lastname field-->
                  <div class="form-group mb-0 p-0 col">
                    <label>Last name</label>
                    <input
                    :class="lastNameError === '' ? 'form-control success' : 'form-control error'" 
                      v-model="last_name"
                      type="text"
                    >
                    <span class="text-danger">${lastNameError}</span>
                  </div>
              </div>
              <!--email field-->
              <div class="form-group mb-3">
                <label>Email</label>
                <input 
                  :class="emailError === '' ? 'form-control success' : 'form-control error'"
                  v-model="email" 
                  type="text"
                >
                <span class="text-danger">${emailError}</span>
              </div>
              <!--password field-->
              <div class="form-group mb-3">
                <label>Password</label>
                <input 
                  :class="passwordError === '' ? 'form-control success' : 'form-control error'" 
                  v-model="password" 
                  type="password"
                >
                <span class="text-danger">${passwordError}</span>
              </div>
              <!--re-password field-->
              <div class="form-group mb-3">
                <label>Confirm password</label>
                <input 
                  :class="rePasswordError === '' ? 'form-control success' : 'form-control error'" 
                  v-model="confirm_password" 
                  type="password"
                >
                <span class="text-danger">${rePasswordError}</span>
              </div>
              <div class="form-group mt-4">
                  <button 
                    :disabled="progressPercentage !== 100" 
                    type="submit" 
                    class="btn btn-outline-success fw-bold"
                  >
                    <span v-if="!isSubmitting" class="text-color-primary" v-html="submitContent"></span>
                    <!--spinner-->
                    <div
                      v-else
                      style="height: 1.1rem; width: 1.1rem"
                      class="spinner-border"
                      role="status"
                    >
                      <span class="visually-hidden">.</span>
                    </div>
                  </button>
              </div>
          </form>
          </div>
        </div>
      </div>
    </div>
    <script type="module" src="/app.js"></script>
  </body>
</html>
